package com.bhargav.ssr.controller;

import com.bhargav.ssr.model.Blog;
import com.bhargav.ssr.model.SeoContent;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.servlet.ModelAndView;

import java.util.List;
import java.util.Map;
import java.util.stream.Collectors;
import java.util.stream.IntStream;

@Controller
public class HomeController {

    @GetMapping("/")
    public ModelAndView getBlogHome(Map<String, Object> model) {
        List<Blog> blogList =
                IntStream.range(1, 3).mapToObj(i -> generateBlog(System.currentTimeMillis() + i)).collect(Collectors.toList());
        model.put("blogList", blogList);
        model.put("seoContent", generateSeoContent("Blog"));
        model.put("pageTitle", "Welcome to Bhargav's Blog Site");
        return new ModelAndView("index", model);
    }

    @GetMapping("/dgp")
    public ModelAndView getDigitalHome(Map<String, Object> model, String pageName) {
        List<Blog> blogList =
                IntStream.range(1, 3).mapToObj(i -> generateBlog(System.currentTimeMillis() + i)).collect(Collectors.toList());
        model.put("blogList", blogList);
        model.put("seoContent", generateSeoContent(pageName));
        model.put("pageTitle", pageName + " Home Page | BliBli.com");
        return new ModelAndView("dgp-index", model);
    }

    private SeoContent generateSeoContent(String pageName) {
        String content = "<h3><strong>Tips Mudah dan Praktis Untuk Beli &amp; Isi Pulsa Online &amp; Voucher Pulsa " +
                "Murah</strong></h3>\n<p><span style=\"background-color: initial; text-align: initial;\">Tanpa disadari smartphone sudah menjadi bagian dari kehidupan sehari-hari. Anda menggunakan smartphone untuk berkomunikasi dengan keluarga, teman-teman, maupun klien kerja Anda. Untuk menghubungi mereka pastinya Anda memerlukan pulsa, baik pulsa telepon, pulsa SMS, maupun pulsa internet. Yang menjadi masalah adalah ketika pulsa Anda mendadak habis. Padahal bisa jadi tempat Anda berdiam saat ini jauh dari minimarket terdekat. Bingung? Tidak perlu! Karena dengan derasnya arus teknologi saat ini, Anda dapat&nbsp;</span>beli pulsa online<span style=\"background-color: initial; text-align: initial;\">&nbsp;dengan berbagai cara. Apabila Anda tergolong orang yang sangat sibuk atau sering bepergian, metode isi pulsa ini bisa jadi jalan keluar yang terbaik untuk Anda.</span></p>\n<p><span style=\"background-color: initial; text-align: initial;\">[Isi ulang&nbsp;</span><a href=\"https://www.blibli.com/digital/p/pulsa/xl\"><span style=\"background-color: initial; text-align: initial;\"><strong>pulsa XL</strong></span></a><span style=\"background-color: initial; text-align: initial;\">&nbsp;sekarang yuk]</span></p>\n<h3><strong>Sudah Tahu Belum Tips Mudah Beli Pulsa Online Berikut</strong></h3>\n<p>Tidak perlu susah-susah mencari konter pulsa terdekat. Karena jika Anda berada di daerah yang tergolong sangat baru, Anda akan mengalami kesulitan. Anda hanya perlu mencari fasilitas ATM terdekat. Ya, sekarang Anda dapat <strong>beli pulsa online</strong> melalui mesin ATM. Saat ini sudah hampir sebagian besar ATM di kota maupun pelosok dilengkapi dengan fitur isi ulang pulsa online. Untuk mengisi ulang pulsa, Anda hanya perlu memasukkan beberapa informasi yang dibutuhkan. Informasi tersebut meliputi nomor handphone, nominal pulsa, dan kode rahasia alias PIN Anda. Apabila informasi yang Anda masukkan benar, maka secara otomatis saldo rekening Anda akan terpotong dan pulsa Anda akan terisi secara otomatis. Fitur satu ini tergolong alternatif yang aman bagi Anda yang ingin data nomor Anda terhindar dari spam orang-orang yang tidak bertanggung jawab. Privasi Anda pun akan 100 persen terjamin. Jika Anda terlalu sibuk hingga tidak memiliki waktu pergi ke ATM, Anda dapat isi ulang pulsa Anda lewat fitur M-Banking. Opsi satu ini memang jauh lebih praktis lagi. Karena Anda tidak perlu pergi ke ATM untuk melakukan transaksi. Buka aplikasi M-Banking Anda. Setelah itu masukkan nomor handphone, nominal pulsa yang Anda inginkan. Setelah itu masukkan PIN dan tekan konfirmasi. Tunggu proses transaksi selesai dan secara otomatis pulsa akan masuk secara otomatis ke dalam smartphone Anda. Alternatif ketiga adalah dengan menggunakan metode e-banking. Metode ini tergolong jauh lebih fleksibel dibandingkan metode kedua, karena Anda dapat menggunakan baik smartphone maupun laptop atau komputer PC. Satu-satunya yang Anda butuhkan adalah koneksi internet yang stabil. Metode e-banking dapat dilakukan dengan cara mengakses situs resmi dari bank Anda. Pastikan bahwa Anda hanya memasukkan alamat website yang diberikan oleh bank bukan dari pihak ketiga maupun pihak manapun. Cara keempat adalah dengan membeli melalui layanan e-commerce. Saat ini banyak toko-toko online yang menawarkan berbagai macam paket isi ulang pulsa maupun kuota internet dengan cara yang sangat mudah. Dibandingkan konter pulsa, layanan toko online pun jauh lebih menjamin keamanan dan privasi nomor Anda. Salah satunya adalah Blibli.com. Ingin tahu bagaimana cara isi ulang pulsa lewat Blibli.com?</p>\n<p>[Isi <a href=\"https://www.blibli.com/digital/p/pulsa/indosat\"><strong>Pulsa Indosat</strong></a> kamu Sekarang]</p>\n<h3><strong>Beli Pulsa Online di Blibli.com Dijamin Hemat!</strong></h3>\n<p>Salah satu toko online terkemuka dimana kamu bisa beli pulsa online adalah <a href=\"https://www.blibli.com/\">Blibli.com</a>. Toko online ini jual berbagai macam paket pulsa dengan harga yang murah. Manfaatkan berbagai macam voucher pulsa serta promo untuk memperoleh penawaran diskon yang lebih terjangkau. Pengiriman pulsa internet Anda pun dijamin aman dengan pelayanan yang super cepat. Jangan lupa untuk berbelanja berbagai macam kebutuhan lain di online shop ini. Yuk rasakan kemudahan berbelanja dengan harga terjangkau di Blibli.com.</p>\n<p>[Ayuk buruan isi <a href=\"https://www.blibli.com/digital/p/pulsa/telkomsel\"><strong>pulsa telkomsel</strong></a> kamu]</p>\n<h3><strong>Nggak Perlu Keluar Rumah! Beli Pulsa Online Murah di Blibli.com Saja</strong></h3>\n<p>Apakah Anda hendak mengisi pulsa untuk penggunaan smartphone Anda? Ya, setiap orang dituntut untuk memiliki pulsa untuk dapat dimanfaatkan bertelepon, mengirim pesan SMS, membuka aplikasi chatting, browsing, streaming, dan bermain games. Dalam urusan mengisi pulsa ini, setiap orang diharuskan untuk keluar rumah. Entah itu mencari warung yang menjual pulsa, konter pulsa, ataupun minimarket. Untuk sampai ke tempat-tempat itu, seseorang perlu untuk berjalan kaki ataupun berkendara sebelumnya. Kondisi ini tentu bukan masalah jika hanya berjalan kaki ataupun berkendara dengan jarak yang dekat. Menjadi masalah kemudian ketika harus keluar rumah untuk mengisi pulsa dengan jarak yang jauh. Hari ini, mengisi pulsa semakin mudah dengan kehadiran Blibli.com. Blibli.com menawarkan kemudahan bagi Anda yang hendak mengisi pulsa online murah. Pembelian pulsa hanya mengharuskan Anda memasukkan nomor telepon Anda dan proses pembayaran. Setelah itu pulsa pun akan Anda terima segera. Dan, yang paling penting, Anda tak perlu untuk keluar rumah.</p>\n<p>[Isi <a href=\"https://www.blibli.com/digital/p/pulsa/tri\"><strong>pulsa tri</strong></a> kamu sekarang yuk]</p>\n<h3><strong>Jangan Sampai Tidak Bisa Chatting dan Videocall, Beli Pulsa All Operator currentMonth currentYear Murah</strong></h3>\n<p>Chatting dan videocall telah menjadi gaya hidup masyarakat sekarang. Akses chatting kian menggantikan fungsi berkirim pesan SMS. Dengan chatting, seseorang dapat berkomunikasi via teks dengan lebih leluasa tanpa adanya batasan karakter. Lebih dari itu, melalui aplikasi chatting, setiap orang juga dapat berkomunikasi lebih aktraktif dan bervariatif melalui adanya emoticon ataupun gambar animasi. Pun demikian dengan videocall yang kini menjadi salah satu pilihan utama setiap orang dalam berkomunikasi. Sebab, melalui platform ini, setiap orang dapat berkomunikasi layaknya melangsungkan pertemuan tatap muka. Biasanya kegiatan videocall akan dilakukan untuk komunikasi dengan orang-orang dekat, seperti keluarga, saudara, pacar, istri, suami, dan sebagainya. Videocall dapat mengobati rasa rindu seseorang kepada orang lain. Atas kondisi itu, akses untuk melakukan chatting dan videocall begitu penting untuk diakomodasi. Oleh karena itu, Blibli.com hadir memudahkan Anda dengan menghadirkan pulsa online murah. Beli pulsa secara online di Blibli.com dapat memastikan keperluan chatting dan videocall Anda dapat terpenuhi dengan baik. Blibli.com jual pulsa dengan pilihan terlengkap. Di sini, Anda dapat menemukan pulsa dari Telkomsel, Simpati, Kartu As, Kartu Halo, Indosat Ooredoo, Mentari Ooredoo, Mentari Ooredoo, Kartu Tri, Kartu Three, Kartu 3, Axis, XL, Bolt, dan Smartfren. Beli pulsa di Blibli.com memungkinkan Anda untuk isi pulsa lewat HP dengan harga murah di currentMonth currentYear.</p>\n<p>[Jangan sampai kehabisan <a href=\"https://www.blibli.com/digital/p/pulsa/smartfren\"><strong>pulsa Smartfren</strong></a>]&nbsp;</p>\n<h3><strong>Tunjukkan Kasih Sayang kepada Keluarga dengan Belikan Pulsa Online Murah</strong></h3>\n<p>Dalam kehidupan manusia, keluarga merupakan lingkup terkecil bagaimana seseorang dapat meluapkan kasih sayangnya. Ikatan darah dan tempat tinggal semakin mempererat hubungan keluarga. Dalam sebuah keluarga ada anak-anak, ibu, ayah, bahkan kakek-nenek. Setiap anggota keluarga itu memiliki peran dan tugas masing-masing. Seorang ayah umumnya bekerja mencari nafkah, bekerja keras siang malam untuk memenuhi seluruh kebutuhan keluarga. Sedangkan, ibu merupakan sosok serba lengkap. Selain melakukan aktivitas pekerjaan rumah tangga, seperti memasak, mencuci, dan membersihkan rumah, ibu merupakan tempat seorang anak berlindung dan berbagi cerita. Dengan begitu, keluarga akan akrab dan kompak. Namun, ternyata itu saja belum cukup. Sesekali memberikan sesuatu kepada anggota keluarga juga merupakan hal yang spesial. Tak perlu mahal, asal bermakna dan dibutuhkan oleh anggota keluarga. Seperti halnya pemberian pulsa. Hari ini, Anda dapat memberikan pulsa kepada keluarga Anda dengan lebih praktis dengan beli pulsa online murah di Blibli.com. Beli pulsa terbaru di Blibli.com, Anda akan mendapatkan promo dan diskon menarik. <a href=\"http://www.blibli.com/\">Blibli.com</a> sekarang!</p>\n<p>[Yuk isi <a href=\"https://www.blibli.com/digital/p/pulsa/axis\">pulsa Axis</a> sekarang!]</p>\n<h3><strong>Menelepon Orang Terdekat Lebih Mudah, Beli Pulsa All Operator Murah di Blibli.com</strong></h3>\n<p>Dalam keseharian, setiap orang akan memiliki kebiasaan bertelepon dengan orang-orang terdekat. Seperti rekan kerja, pacar, istri, suami, sahabat, dan keluarga. Biasanya setiap orang memiliki keperluannya tersendiri saat menelepon orang. Saat bertelepon dengan rekan kerja, misalnya, obrolan yang berlangsung biasanya seputar pekerjaan. Lain lagi dengan keluarga yang mungkin ada di kampung, bertelepon dengan keluarga menjadi salah satu cara untuk mengobati rasa rindu. Ada juga pasangan pacar yang menjadikan momen bertelepon sebagai cara pendekatan terbaik. Oleh karena itu, akses untuk bertelepon harus selalu dipastikan ketersediaannya. Dalam hal ini, tentu akses yang perlu disediakan berupa pulsa telepon. Sudahkah Anda mengakomodasi kebutuhan itu? Yuk menelepon orang terdekat lebih mudah, beli pulsa all operator murah di Blibli.com. Temukan juga berbagai <a href=\"https://www.blibli.com/digital/p/pulsa\">voucher pulsa</a> di Blibli.com dengan harga yang murah &amp; pembelian mudah.</p>\n<h3><strong>Mager Isi Pulsa? Beli Pulsa Online Murah di Blibli.com</strong></h3>\n<p>Kehabisan pulsa, tapi malas untuk pergi mencari konter pulsa ataupun minimarket? Kondisi sedang panas-panasnya atau sedang hujan? Yup, dalam kehidupan sehari hari, akan selalu ada momen di mana seseorang malas untuk bergerak. Dalam istilah generasi millennial, kondisi ini sering disebut mager alias malas untuk bergerak. Adapun kondisi malas ini sendiri sangat beragam. Entah itu malas untuk mandi, malas untuk keluar rumah, malas untuk berkendara, dan seterusnya. Yang hanya ingin dilakukan mungkin berbaring di tas tempat tidur. Kondisi ini biasanya muncul ketika mood sedang kurang baik. Selain itu, kondisi malas gerak ini juga dapat disebabkan ketika dilanda rasa lelah setelah bekerja. Sering mengalami kondisi malas gerak seperti ini? Kondisi malas seperti ini juga sering terjadi ketika tengah kehabisan pulsa. Namun, di sisi lain, kebutuhan mengisi pulsa tetap menjadi kebutuhan genting yang harus dipenuhi segera. Hadir memudahkan Anda, Blibli.com jual pulsa all operator murah. Mengapa beli pulsa online di Blibli.com murah? Karena selalu tersedia promo dan diskon yang menarik. Tak hanya murah, beli pulsa di Blibli.com juga memungkinkan Anda untuk isi pulsa lewat HP. Mager isi pulsa? Beli pulsa online murah di Blibli.com.</p>\n<h3><strong>Membutuhkan Pulsa di Situasi Genting? Yuk Beli Pulsa All Operator Murah</strong></h3>\n<p>Dalam penggunaan smartphone sehari-hari, akan selalu ada momen di mana seseorang mendapati kondisi-kondisi genting. Seperti halnya kondisi kehabisan pulsa ketika hendak menelepon, kehabisan pulsa ketika kartu ATM tertelan, kehabisan pulsa ketika harus mengirim email, kehabisan pulsa ketika sedang seru-serunya bermain games, atau pun kehabisan pulsa ketika sedang menikmati film yang belum tuntas. Mendapati kondisi genting itu, setiap orang perlu untuk mengisi pulsanya segera sehingga dapat memanfaatkan kembali perangkat HP-nya untuk segala keperluan. Membutuhkan pulsa di situasi genting? Yuk beli pulsa all operator murah. Selain harga murah, Blibli.com juga menawarkan pulsa terbaru dengan pilihan yang sangat lengkap. Di sini, Anda dapat menemukan pulsa all operator, mulai dari Telkomsel, Simpati, Kartu As, Kartu Halo, Indosat Ooredoo, Mentari Ooredoo, Kartu Tri, Kartu Three, Kartu 3, Axis, XL, Bolt, hingga Smartfren. Belanja di Blibli.com, Anda dapat memperoleh opsi pembayaran dengan kartu kredit dan debit, opsi pembayaran tanpa kartu kredit, internet banking, transfer, uang elektronik, Indomaret, dan Pos Indonesia. Kemudahan ini memungkinkan Anda untuk berbelanja lebih dekat, lebih mudah, dan tak melelahkan.</p>\n<h3><strong>Produk terkait :</strong></h3>\n<table style=\"width: 97%;\">\n<tbody>\n<tr>\n<td style=\"width: 100.0000%;\"><a href=\"https://www.blibli.com/digital/p/pulsa-postpaid/xl-prioritas\">Bayar XL Prioritas</a></td>\n</tr>\n<tr>\n<td style=\"width: 100.0000%;\"><a href=\"https://www.blibli.com/digital/p/pulsa-postpaid/indosat-matrix\">Cek tagihan Indosat Pascabayar</a></td>\n</tr>\n<tr>\n<td style=\"width: 100.0000%;\"><a href=\"https://www.blibli.com/digital/p/pulsa-postpaid/kartu-halo\">Cek tagihan Kartu Halo</a></td>\n</tr>\n</tbody>\n</table>\n<p>&nbsp;</p>\n<h3><strong>Produk digital lainnya :</strong></h3>\n<table style=\"width: 97%;\">\n<tbody>\n<tr>\n<td style=\"width: 100.0000%;\"><a href=\"https://www.blibli.com/digital/p/bpjs\">Bayar BPJS<br /></a></td>\n</tr>\n<tr>\n<td style=\"width: 100.0000%;\"><a href=\"https://www.blibli.com/digital/p/gas-pgn\">Cek tagihan PGN</a></td>\n</tr>\n<tr>\n<td style=\"width: 100.0000%;\"><a href=\"https://www.blibli.com/digital/p/air-pdam\">Bayar tagihan PDAM</a></td>\n</tr>\n<tr>\n<td style=\"width: 100.0000%;\"><a href=\"https://www.blibli.com/digital/p/indihome/telepon\">Bayar tagihan telepon</a></td>\n</tr>\n<tr>\n<td style=\"width: 100.0000%;\"><a href=\"https://www.blibli.com/digital/p/samolnas\">Bayar pajak kendaraan</a></td>\n</tr>\n</tbody>\n</table>";
        return new SeoContent( "Heading for " + pageName + " - Search Engine Optimization",
                "Sub Heading for " + pageName, content);
    }

    private Blog generateBlog(long seq){
        return new Blog("Blog #" + seq, "Author: Nataraj Srikantaiah", "Category-" + seq,
                "AWS Device Farm is an app testing service that can be used to test and interact with your Android, " +
                        "iOS, and web apps on real, physical phones and tablets which are hosted by Amazon Web Services (AWS). " +
                        "AWS like any other device farm provides a wide range of mobile devices which provides access to test an " +
                        "app on various OS version with or without the brand’s skin. As a result, this lets the user overcome the " +
                        "challenge of maintaining and upgrading their assets as per the market changes." );
    }
}
